#!/usr/bin/python
# -*- coding: utf-8 -*-

import random as rand
import logging
from aiogram import types, Bot, Dispatcher, executor

stations = ['D1', 'Одинцово', 'Баковка', 'Сколково', 'Немчиновка', 'Сетунь', 'Рабочий поселок', 'Кунцевская', 'Славянский бульвар', 'Фили', 'Тестовская', 'Беговая', 'Белорусская', 'Савёловская', 'Тимирязевская', 'Окружная', 'Дегунино', 'Бескудниково', 'Лианозоново', 'Марк', 'Новодачная', 'Долгопрудная', 'Водники', 'Хлебниково', 'Шереметьевская', 'Лобня', 'D1END', 'D2', 'Нахабино', 'Аникеевка', 'Опалиха', 'Красногорская', 'Павшино', 'Пенягино', 'Волоколамская', 'Трикотажная', 'Тушинская', 'Щукинская', 'Стрешнёво', 'Красный Балтиец', 'Гражданская', 'Дмитровская', 'Рижская', 'Площадь трёх вокзалов', 'Курская', 'Москва-Товарная', 'Площадь Ильича', 'Новохохловская', 'Тектильщики', 'Печатники', 'Люблино D2', 'Депо', 'Перерва', 'Курьяново', 'Москворечье', 'Царицыно', 'Покровское', 'Красный Строитель', 'Битца', 'Бутово', 'Щербинка', 'Оставьево', 'Силикатная', 'Подольск', 'D2END', '14', 'Лужники', 'Кутузовская', 'Деловой центр МЦК', 'Хорошёво', 'Зорге', 'Панфиловская', 'Стрешнёво', 'Балтийское', 'Коптево', 'Лихоборы', 'Окружная', 'Владыкино', 'Ботанический сад', 'Ростокино', 'Белокаменная', 'Бульвар Рокоссовского', 'Локомотив', 'Измайлово', 'Соколиная гора', 'Шоссе Энтузиастов', 'Андроновка', 'Нижегородская', 'Новохохловская', 'Угрешская', 'Дубровка', 'Автозаводская', 'ЗИЛ', 'Верхние котлы', 'Крымская', 'Площадь Гагарина', '14END', '1', 'Бульвар Рокоссовского', 'Черкизовская', 'Преображенская площадь', 'Сокольники', 'Красносельская', 'Комсомольская', 'Красные Ворота', 'Чистые пруды', 'Лубянка', 'Охотный ряд', 'Библиотека им.Ленина', 'Кропоткинская', 'Фрунзенская', 'Спортивная', 'Воробьевы горы', 'Университет', 'Проспект Вернадского', 'Юго-Западная', 'Тропарёво', 'Румянцево', 'Саларьево', 'Филатов Луг', 'Прошкино', 'Ольховая', 'Коммунарка', '1END', '2', 'Ховрино', 'Беломорская','Речной вокзал', 'Водный стадион', 'Войковская', 'Сокол', 'Аэропорт', 'Динамо', 'Белорусская', 'Маяковская', 'Тверская', 'Театральная', 'Новокузнецкая', 'Павелецкая', 'Автозаводская', 'Технопарк', 'Коломенская', 'Каширская', 'Кантемировская', 'Царицыно', 'Орехово', 'Домодедовская', 'Красногвардейская', 'Алма-Атинская', '2END', '3', 'Щелковская', 'Первомайская', 'Измайловская', 'Партизанская', 'Семёновская', 'Электрозаводская', 'Курская', 'Площадь Революции', 'Арбатская', 'Киевская', 'Парк Победы', 'Славянский бульвар', 'Кунцевская', 'Молодёжная', 'Крылатское', 'Строгино', 'Мякинино', 'Волоколамская', 'Митино', 'Пятницкое шоссе', '3END', '4', 'Кунцевская', 'Пионерская', 'Филёвский парк', 'Фили', 'Кутузовская', 'Студенческая', 'Киевская', 'Смоленская', 'Арбатская', 'Александровский сад', 'Выставочная', 'Международная', '4END', '5', 'Новослободская', 'Проспект Мира', 'Комсомольская', 'Курская', 'Таганская', 'Павелецкая', 'Добрынинская', 'Октябрьская', 'Парк Культуры', 'Киевская', 'Краснопресненская', 'Белорусская', '5END', '6', 'Медведково', 'Бабушкинская', 'Свиблово', 'Ботанический сад', 'ВДНХ', 'Алексеевская', 'Рижская', 'Проспект Мира', 'Сухаревская', 'Тургеневская', 'Китай-Город', 'Третьяковская', 'Октябрьская', 'Шаболовская', 'Ленинский проспект', 'Академическая', 'Профсоюзная', 'Новые черёмушки', 'Калужская', 'Беляево', 'Коньново', 'Теплый Стан', 'Ясенево' ,'Новоясеневская', '6END', '7', 'Планерная', 'Сходненская', 'Тушинская', 'Спартак', 'Щукинская', 'Октябрьское поле', 'Полежаевская', 'Беговая', 'Баррикадная', 'Пушкинская', 'Кузнецкий мост', 'Китай-город', 'Таганская', 'Пролетарская', 'Волгоградский проспект', 'Текстильщики', 'Кузьминки', 'Рязанский проспект', 'Выхино', 'Лермонтовский проспект', 'Жулебино', 'Котельники', '7END', '8', 'Третьяковская', 'Марксистская', 'Площадь Ильича', 'Авиамотрная', 'Шоссе Энтузиастов', 'Перово', 'Новогиреево', 'Новокосино', '8END', '8A', 'Рассказовка', 'Новопеределкино', 'Боровское шоссе', 'Солнцево', 'Говорово', 'Озёрная', 'Мичуринский проспект', 'Раменки', 'Ломоносовский проспект', 'Минская', 'Парк победы', 'Деловой центр', '8AEND', '9', 'Алтуфьево', 'Бибирево', 'Отрадное', 'Владыкино', 'Петровско-Разумовская', 'Тимирязевская', 'Дмитриевская', 'Савёловская', 'Менделеевская', 'Цветной бульвар', 'Тверская', 'Боровицкая', 'Полянка', 'Серпуховская', 'Тульская', 'Нагатинская', 'Нагорная', 'Нахимовский проспект', 'Севастопольская', 'Чертановская', 'Южная', 'Пражская', 'Улица Академика Янгеля', 'Аннино', 'Бульвар Дмитрия Донского', '9END', '10', 'Селигерская', 'Верхние Лихоборы', 'Окружная', 'Петровско-Разумовская', 'Фонвизинская', 'Бутырская', 'Марьина Роща', 'Достоевская', 'Трубная', 'Сретенский бульвар', 'Чкаловская', 'Римская', 'Крестьянская застава', 'Дубровка', 'Кожуховская', 'Печатники', 'Волжская', 'Люблино', 'Братиславская', 'Марьино', 'Борисово', 'Шипиловская', 'Зябликово', '10END', '11', 'Савёловская', 'Петровский парк', 'ЦСКА', 'Хорошёвская', 'Народное ополчение', 'Мнёвники', 'Терехово', 'Кунцевская', 'Давыдково', 'Аминьевская', 'Мичуринский проспект', 'Проспект Вернадского', 'Новаторская', 'Воронцовская', 'Зюзино', 'Каховская', '11END', '11A', 'Шелепиха', 'Выставочная', '11AEND', '12', 'Битцевский парк', 'Лесопарковая', 'Улица Старочкаловская', 'Улица Скобелевская', 'Бульвар Адмирала Ушакова', 'Улица Горчакова', 'Бунинская Аллея', '12END', '13', 'Тимирязевская', 'Улица Милашенкова', 'Телецентр', 'Улица Академика Королёва', 'Выставочный центр', 'Улица Сергея Эйзенштейна', '13END', '15', 'Электрозаводская', 'Лефортово', 'Авиамоторная', 'Нижегородская', 'Стахановская', 'Окская', 'Юго-Восточная', 'Косино', 'Улица Дмитриевского', 'Лухмановская', 'Некрасовка', '15END']
stationsWithLines = ['D1', 'Одинцово D1', 'Баковка D1', 'Сколково D1', 'Немчиновка D1', 'Сетунь D1', 'Рабочий поселок D1', 'Кунцевская D1', 'Славянский бульвар D1', 'Фили D1', 'Тестовская D1', 'Беговая D1', 'Белорусская D1', 'Савёловская D1', 'Тимирязевская D1', 'Окружная D1', 'Дегунино D1', 'Бескудниково D1', 'Лианозоново D1', 'Марк D1', 'Новодачная D1', 'Долгопрудная D1', 'Водники D1', 'Хлебниково D1', 'Шереметьевская D1', 'Лобня D1', 'D1END', 'D2', 'Нахабино D2', 'Аникеевка D2', 'Опалиха D2', 'Красногорская D2', 'Павшино D2', 'Пенягино D2', 'Волоколамская D2', 'Трикотажная D2', 'Тушинская D2', 'Щукинская D2', 'Стрешнёво D2', 'Красный Балтиец D2', 'Гражданская D2', 'Дмитровская D2', 'Рижская D2', 'Площадь трёх вокзалов D2', 'Курская D2', 'Москва-Товарная D2', 'Площадь Ильича D2', 'Новохохловская D2', 'Тектильщики D2', 'Печатники D2', 'Люблино D2', 'Депо D2', 'Перерва D2', 'Курьяново D2', 'Москворечье D2', 'Царицыно D2', 'Покровское D2', 'Красный Строитель D2', 'Битца D2', 'Бутово D2', 'Щербинка D2', 'Оставьево D2', 'Силикатная D2', 'Подольск D2', 'D2END', '14', 'Лужники 14', 'Кутузовская 14', 'Деловой центр МЦК 14', 'Хорошёво 14', 'Зорге 14', 'Панфиловская 14', 'Стрешнёво 14', 'Балтийское 14', 'Коптево 14', 'Лихоборы 14', 'Окружная 14', 'Владыкино 14', 'Ботанический сад 14', 'Ростокино 14', 'Белокаменная 14', 'Бульвар Рокоссовского 14', 'Локомотив 14', 'Измайлово 14', 'Соколиная гора 14', 'Шоссе Энтузиастов 14', 'Андроновка 14', 'Нижегородская 14', 'Новохохловская 14', 'Угрешская 14', 'Дубровка 14', 'Автозаводская 14', 'ЗИЛ 14', 'Верхние котлы 14', 'Крымская 14', 'Площадь Гагарина 14', '14END', '1', 'Бульвар Рокоссовского 1', 'Черкизовская 1', 'Преображенская площадь 1', 'Сокольники 1', 'Красносельская 1', 'Комсомольская 1', 'Красные Ворота', 'Чистые пруды 1', 'Лубянка 1', 'Охотный ряд 1', 'Библиотека им.Ленина 1', 'Кропоткинская 1', 'Фрунзенская 1', 'Спортивная 1', 'Воробьевы горы 1', 'Университет 1', 'Проспект Вернадского 1', 'Юго-Западная 1', 'Тропарёво 1', 'Румянцево 1', 'Саларьево 1', 'Филатов Луг', 'Прошкино 1', 'Ольховая 1', 'Коммунарка 1', '1END', '2', 'Ховрино 2', 'Беломорская 2','Речной вокзал 2', 'Водный стадион 2', 'Войковская 2', 'Сокол 2', 'Аэропорт 2', 'Динамо 2', 'Белорусская 2', 'Маяковская 2', 'Тверская 2', 'Театральная 2', 'Новокузнецкая 2', 'Павелецкая 2', 'Автозаводская 2', 'Технопарк 2', 'Коломенская 2', 'Каширская 2', 'Кантемировская 2', 'Царицыно 2', 'Орехово 2', 'Домодедовская 2', 'Красногвардейская 2', 'Алма-Атинская 2', '2END', '3', 'Щелковская 3', 'Первомайская 3', 'Измайловская 3', 'Партизанская 3', 'Семёновская 3', 'Электрозаводская 3', 'Курская 3', 'Площадь Революции 3', 'Арбатская 3', 'Киевская 3', 'Парк Победы 3', 'Славянский бульвар 3', 'Кунцевская 3', 'Молодёжная 3', 'Крылатское 3', 'Строгино 3', 'Мякинино 3', 'Волоколамская 3', 'Митино 3', 'Пятницкое шоссе 3', '3END', '4', 'Кунцевская 4', 'Пионерская 4', 'Филёвский парк', 'Фили 4', 'Кутузовская 4', 'Студенческая 4', 'Киевская 4', 'Смоленская 4', 'Арбатская 4', 'Александровский сад 4', '4END', '4A', 'Выставочная 4A', 'Международная 4A', '4AEND', '5', 'Новослободская 5', 'Проспект Мира 5', 'Комсомольская 5', 'Курская 5', 'Таганская 5', 'Павелецкая 5', 'Добрынинская 5', 'Октябрьская 5', 'Парк Культуры 5', 'Киевская 5', 'Краснопресненская 5', 'Белорусская 5', '5END', '6', 'Медведково 6', 'Бабушкинская 6', 'Свиблово 6', 'Ботанический сад 6', 'ВДНХ 6', 'Алексеевская 6', 'Рижская 6', 'Проспект Мира 6', 'Сухаревская 6', 'Тургеневская 6', 'Китай-Город 6', 'Третьяковская 6', 'Октябрьская 6', 'Шаболовская 6', 'Ленинский проспект 6', 'Академическая 6', 'Профсоюзная 6', 'Новые черёмушки 6', 'Калужская 6', 'Беляево 6', 'Коньново 6', 'Теплый Стан 6', 'Ясенево 6' ,'Новоясеневская 6', '6END', ' 7', 'Планерная 7', 'Сходненская 7', 'Тушинская 7', 'Спартак 7', 'Щукинская 7', 'Октябрьское поле 7', 'Полежаевская 7', 'Беговая 7', 'Баррикадная 7', 'Пушкинская 7', 'Кузнецкий мост 7', 'Китай-город 7', 'Таганская 7', 'Пролетарская 7', 'Волгоградский проспект 7', 'Текстильщики 7', 'Кузьминки 7', 'Рязанский проспект 7', 'Выхино 7', 'Лермонтовский проспект 7', 'Жулебино 7', 'Котельники 7', '7END', '8', 'Третьяковская 8', 'Марксистская 8', 'Площадь Ильича 8', 'Авиамотрная 8', 'Шоссе Энтузиастов 8', 'Перово 8', 'Новогиреево 8', 'Новокосино 8', '8END', '8A', 'Рассказовка 8A', 'Новопеределкино 8A', 'Боровское шоссе 8A', 'Солнцево 8A', 'Говорово 8A', 'Озёрная 8A', 'Мичуринский проспект 8A', 'Раменки 8A', 'Ломоносовский проспект 8A', 'Минская 8A', 'Парк победы 8A', 'Деловой центр 8A', '8AEND', '9', 'Алтуфьево 9', 'Бибирево 9', 'Отрадное 9', 'Владыкино 9', 'Петровско-Разумовская 9', 'Тимирязевская 9', 'Дмитриевская 9', 'Савёловская 9', 'Менделеевская 9', 'Цветной бульвар 9', 'Тверская 9', 'Боровицкая 9', 'Полянка 9', 'Серпуховская 9', 'Тульская 9', 'Нагатинская 9', 'Нагорная 9', 'Нахимовский проспект 9', 'Севастопольская 9', 'Чертановская 9', 'Южная 9', 'Пражская 9', 'Улица Академика Янгеля 9', 'Аннино 9', 'Бульвар Дмитрия Донского 9', '9END', '10', 'Селигерская  10', 'Верхние Лихоборы 10', 'Окружная 10', 'Петровско-Разумовская 10', 'Фонвизинская 10', 'Бутырская 10', 'Марьина Роща 10', 'Достоевская 10', 'Трубная 10', 'Сретенский бульвар 10', 'Чкаловская 10', 'Римская 10', 'Крестьянская застава 10', 'Дубровка 10', 'Кожуховская 10', 'Печатники 10', 'Волжская 10', 'Люблино 10', 'Братиславская 10', 'Марьино 10', 'Борисово 10', 'Шипиловская 10', 'Зябликово 10', '10END', '11', 'Савёловская 11', 'Петровский парк 11', 'ЦСКА 11', 'Хорошёвская 11', 'Народное ополчение 11', 'Мнёвники 11', 'Терехово 11', 'Кунцевская 11', 'Давыдково 11', 'Аминьевская 11', 'Мичуринский проспект 11', 'Проспект Вернадского 11', 'Новаторская 11', 'Воронцовская 11', 'Зюзино 11', 'Каховская 11', '11END', '11A', 'Шелепиха 11A', 'Выставочная 11A', '11AEND', '12', 'Битцевский парк 12', 'Лесопарковая 12', 'Улица Старочкаловская 12', 'Улица Скобелевская 12', 'Бульвар Адмирала Ушакова 12', 'Улица Горчакова 12', 'Бунинская Аллея 12', '12END', '13', 'Тимирязевская 13', 'Улица Милашенкова 13', 'Телецентр 13', 'Улица Академика Королёва 13', 'Выставочный центр 13', 'Улица Сергея Эйзенштейна 13', '13END', '15', 'Электрозаводская 15', 'Лефортово 15', 'Авиамоторная 15', 'Нижегородская 15', 'Стахановская 15', 'Окская 15', 'Юго-Восточная 15', 'Косино 15', 'Улица Дмитриевского 15', 'Лухмановская 15', 'Некрасовка 15', '15END']

token = "5722323030:AAFg_IOEKwikkQPp9xVw_a_gL1Q_ChmzZvc"

bot = Bot(token)
dp = Dispatcher(bot)

logging.basicConfig(level=logging.INFO)

@dp.message_handler(commands="start")
async def start(message: types.Message):
	print("INFO: New message: " + message.text + " from " + message.from_user.first_name)
	await message.reply(f"Привет, {message.from_user.first_name}! Введи мне команду /random , чтобы получить случайную станцию, остальную информацию смотри в /list и подсказках!")

@dp.message_handler(commands="random")
async def random(message: types.Message):
	print("INFO: New message: " + message.text + " from " + message.from_user.first_name)
	station = rand.choice(stations)

	if (station == 'D1' or station == 'D1END' or station == 'D2' or station == 'D2END' or station == '14' or station == '14END' or station == '1' or station == '1END' or station == '2' or station == '2END' or station == '3' or station == '3END' or station == '4' or station == '4END' or station == '4A' or station == '4AEND' or station == '5' or station == '5END' or station == '6' or station == '6END' or station == '7' or station == '7END' or station == '8' or station == '8END' or station == '9' or station == '9END' or station == '10' or station == '10END' or station == '11' or station == '11END' or station == '11A' or station == '11AEND' or station == '12' or station == '12END' or station == '13' or station == '13END' or station == '15' or station == '15END'):
		await message.answer("Ошибка, попробуйте ввести /random снова!")
	else:
		await message.answer("Ваша станция: " + station)

@dp.message_handler(commands="lines_random")
async def lines_random(message: types.Message):
	print("INFO: New message: " + message.text + " from " + message.from_user.first_name)
	station = rand.choice(stationsWithLines)

	if (station == 'D1' or station == 'D1END' or station == 'D2' or station == 'D2END' or station == '14' or station == '14END' or station == '1' or station == '1END' or station == '2' or station == '2END' or station == '3' or station == '3END' or station == '4' or station == '4END' or station == '4A' or station == '4AEND' or station == '5' or station == '5END' or station == '6' or station == '6END' or station == '7' or station == '7END' or station == '8' or station == '8END' or station == '9' or station == '9END' or station == '10' or station == '10END' or station == '11' or station == '11END' or station == '11A' or station == '11AEND' or station == '12' or station == '12END' or station == '13' or station == '13END' or station == '15' or station == '15END'):
		await message.answer("Ошибка, попробуйте ввести /lines_random снова!")
	else:
		await message.answer("Ваша станция: " + station)

@dp.message_handler(commands="scheme")
async def scheme(message: types.Message):
	print("INFO: New message: " + message.text + " from " + message.from_user.first_name)
	file = open("scheme.pdf", 'rb')
	await message.answer('Загрузка, пожалуйста подождите!')
	await bot.send_document(message.chat.id, document=file)

@dp.message_handler(commands="list")
async def list(message: types.Message):
	print("INFO: New message: " + message.text + " from " + message.from_user.first_name)
	await message.answer('***Список команд***\n\n/start - Приветствие\n/random - Получить случайную станцию\n/lines_random - Получить случайную станцию с номером линии\n/scheme - Получить схему метро\n/list - Список команд\n/botinfo - Информация о боте')

@dp.message_handler(commands="botinfo")
async def info(message: types.Message):
	print("INFO: New message: " + message.text + " from " + message.from_user.first_name)
	await message.answer('Этот бот - простой рандомизатор станций московского метрополитена, а также, здесь можно получить схему метро\n\nby @bithoffka\nt.me/bithoffka')

if __name__ == '__main__':
	executor.start_polling(dp)